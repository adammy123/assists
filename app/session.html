<!DOCTYPE html>
<html>
<style>p{font-size:50pt;}</style>
<script>
	
	var totalBalls = 3;
	var	currentBall = 1;
	var interval = 1
	var intervalTime = 1;
	var goTime = 0.5;

	function add(){
		intervalTime-=0.1;

		// display GO! for 0.5 seconds after reaching 0.0
		if(intervalTime < -0.1){
			document.getElementById('time').style.display = 'none';
			document.getElementById('go').style.display = 'block';
		} 
		else{
			document.getElementById('go').style.display = 'none';
			document.getElementById('time').innerHTML = intervalTime.toFixed(1); 
		}

		// resets timer for next ball
		if(intervalTime < -goTime){
			intervalTime = interval;
			currentBall += 1;
			if (currentBall > totalBalls){
				setTimeout(displayResultsBtton, 3000);
				clearTimeout(t);
			}
			document.getElementById('time').style.display = 'block';
			document.getElementById('numBalls').innerHTML = 'Ball: ' + currentBall;
		}
		
		stopwatch();
	}

	function stopwatch() {
		var t = setTimeout(add, 100);
	}

	function displayResultsBtton() {
		document.getElementById('button').style.display ='block';
	}

</script>

<body onload="stopwatch()">
<p id="title">Starting new session...</p>
<p id="numBalls">Ball: 1</p>
<p id="time" style="font-size: 200pt; text-align: center;">0</p>
<p id="go" style="font-size: 200pt; background-color: rgb(0, 255, 0); text-align: center; display: none;">GO!</p>

<button id="button" type="button" onclick="location.href = '/results';" style="height:100px;width:500px; margin: 0 auto; display: none;">See results</button>
</body>
</html>